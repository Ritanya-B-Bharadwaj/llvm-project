{
    "number": 139147,
    "title": "[Offload] Do not load images from the same descriptor on the same device",
    "body": "Summary:\nRight now we generally assume that we have one image per device. The\nbinary descriptor represents a single 'compilation'. This means that\neach image is going to contain the same code built for different\narchitectures when used through the OpenMP interface. This is\nproblematic when we have cases where the same code will then be loaded\nmultiple times (like wiht sm_80, sm_89 or the generic GFX ISAs). This\npatch is the quick and dirty slution, we just prevent this from\nhappening at all. This means we use the first one we find, which might\nnot be overly optimal, but it should be better than the alternative.\nNote that this does not affect shared library loads as it is per binary\ndescriptor, not per device.\n",
    "created_at": "2025-05-08T20:17:03Z",
    "merged_at": "2025-05-09T13:21:40Z",
    "user": "jhuber6",
    "files": [
        "offload/libomptarget/PluginManager.cpp"
    ],
    "commits": [
        "[Offload] Do not load images from the same descriptor on the same device\n\nSummary:\nRight now we generally assume that we have one image per device. The\nbinary descriptor represents a single 'compilation'. This means that\neach image is going to contain the same code built for different\narchitectures when used through the OpenMP interface. This is\nproblematic when we have cases where the same code will then be loaded\nmultiple times (like wiht sm_80, sm_89 or the generic GFX ISAs). This\npatch is the quick and dirty slution, we just prevent this from\nhappening at all. This means we use the first one we find, which might\nnot be overly optimal, but it should be better than the alternative.\nNote that this does not affect shared library loads as it is per binary\ndescriptor, not per device."
    ]
}