{
    "number": 138517,
    "title": "[OpenMP] Provide __kmp_unnamed_critical_addr on SPARC",
    "body": "`libomp.so` currently fails to link on SPARC, both Solaris/sparcv9 and Linux/sparc64:\r\n\r\n```\r\nUndefined                       first referenced\r\n symbol                             in file\r\n__kmp_unnamed_critical_addr         projects/openmp/runtime/src/CMakeFiles/omp.dir/kmp_gsupport.cpp.o\r\nld: fatal: symbol referencing errors\r\n```\r\n\r\nThis patch provides the necessary definition.  While at it, I noticed that on non-x86 targets the symbol wasn't marked as `@object`, which this patch corrects, too.\r\n\r\nTested on `sparcv9-sun-solaris2.11`, `sparc64-unknown-linux-gnu`, `amd64-pc-solaris2.11`, and `x86_64-pc-linux-gnu`.",
    "created_at": "2025-05-05T12:23:49Z",
    "merged_at": "2025-05-06T07:13:06Z",
    "user": "rorth",
    "files": [
        "openmp/runtime/src/z_Linux_asm.S"
    ],
    "commits": [
        "[OpenMP] Provide __kmp_unnamed_critical_addr on SPARC\n\n`libomp.so` currently fails to link on SPARC, both Solaris/sparcv9 and\nLinux/sparc64:\n\n```\nUndefined                       first referenced\n symbol                             in file\n__kmp_unnamed_critical_addr         projects/openmp/runtime/src/CMakeFiles/omp.dir/kmp_gsupport.cpp.o\nld: fatal: symbol referencing errors\n```\n\nThis patch provides the necessary definition.  While at it, I noticed that\non non-x86 targets the symbol wasn't marked as `@object`, which this patch\ncorrects, too.\n\nTested on `sparcv9-sun-solaris2.11`, `sparc64-unknown-linux-gnu`,\n`amd64-pc-solaris2.11`, and `x86_64-pc-linux-gnu`."
    ]
}