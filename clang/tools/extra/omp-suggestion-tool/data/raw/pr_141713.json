{
    "number": 141713,
    "title": "[Flang] - Handle `BoxCharType` in `fir.box_offset` op",
    "body": "To map `fir.boxchar` types reliably onto an offload target, such as a GPU, the `omp.map.info` operation is used to map the underlying data pointer (`fir.ref<fir.char<k, ?>>`) wrapped by the `fir.boxchar` MLIR value. The `omp.map.info` operation needs a pointer to the underlying data pointer.\r\nGiven a reference to a descriptor (`fir.box`), the `fir.box_offset` is used to obtain the address of the underlying data pointer. This PR extends `fir.box_offset` to provide the same functionality for `fir.boxchar` as well.\r\n\r\nPR Stack\r\n- https://github.com/llvm/llvm-project/pull/141713  (This PR)\r\n- https://github.com/llvm/llvm-project/pull/141715",
    "created_at": "2025-05-28T03:48:11Z",
    "merged_at": "2025-06-06T15:48:07Z",
    "user": "bhandarkar-pranav",
    "files": [
        "flang/include/flang/Optimizer/Dialect/FIROps.td",
        "flang/lib/Optimizer/CodeGen/CodeGen.cpp",
        "flang/lib/Optimizer/Dialect/FIROps.cpp",
        "flang/lib/Optimizer/Dialect/FIRType.cpp",
        "flang/test/Fir/box-offset-codegen.fir",
        "flang/test/Fir/box-offset.fir",
        "flang/test/Fir/invalid.fir"
    ],
    "commits": [
        "Add the ability to the fir.box_offset op to handle references to fir.boxchar",
        "Fix clang formatt issues",
        "Make changes based on review comments",
        "Fix testcase",
        "fix testcase again"
    ]
}