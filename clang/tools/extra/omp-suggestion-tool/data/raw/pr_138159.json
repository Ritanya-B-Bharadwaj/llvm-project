{
    "number": 138159,
    "title": "[flang][OpenMP] fix predetermined privatization inside section",
    "body": "This now produces code equivalent to if there was an explicit private clause on the SECTIONS construct.\r\n\r\nThe problem was that each SECTION construct got its own DSP, which tried to privatize the same symbol for that SECTION. Privatization for SECTION(S) happens on the outer SECTION construct and so the outer construct's DSP should be shared.\r\n\r\nFixes #135108",
    "created_at": "2025-05-01T15:57:41Z",
    "merged_at": "2025-05-08T09:08:49Z",
    "user": "tblah",
    "files": [
        "flang/lib/Lower/OpenMP/DataSharingProcessor.cpp",
        "flang/lib/Lower/OpenMP/OpenMP.cpp",
        "flang/test/Lower/OpenMP/sections-predetermined-private.f90"
    ],
    "commits": [
        "[flang][OpenMP] fix predetermined privatization inside section\n\nThis now produces code equivalent to if there was an explicit private\nclause on the SECTIONS construct.\n\nThe problem was that each SECTION construct got its own DSP, which tried\nto privatize the same symbol for that SECTION. Privatization for\nSECTION(S) happens on the outer SECTION construct and so the outer\nconstruct's DSP should be shared.\n\nFixes #135108",
        "Move special case to DataSharingProcessor::processStep2"
    ]
}