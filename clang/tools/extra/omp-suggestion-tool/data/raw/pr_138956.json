{
    "number": 138956,
    "title": "[flang] Further refinement of OpenMP !$ lines in -E mode",
    "body": "Address failing Fujitsu test suite cases that were broken by the patch to defer the handling of !$ lines in -fopenmp vs. normal compilation to actual compilation rather than processing them immediately in -E mode.\r\n\r\nTested on the samples in the bug report as well as all of the Fujitsu tests that I could find that use !$ lines.\r\n\r\nFixes https://github.com/llvm/llvm-project/issues/136845.",
    "created_at": "2025-05-07T20:40:40Z",
    "merged_at": "2025-05-12T19:16:05Z",
    "user": "klausler",
    "files": [
        "flang/include/flang/Parser/token-sequence.h",
        "flang/lib/Parser/parsing.cpp",
        "flang/lib/Parser/prescan.cpp",
        "flang/lib/Parser/prescan.h",
        "flang/lib/Parser/token-sequence.cpp",
        "flang/test/Parser/OpenMP/bug518.f",
        "flang/test/Parser/OpenMP/compiler-directive-continuation.f90",
        "flang/test/Parser/OpenMP/sentinels.f",
        "flang/test/Parser/continuation-in-conditional-compilation.f",
        "flang/test/Preprocessing/bug136845.F"
    ],
    "commits": [
        "[flang] Further refinement of OpenMP !$ lines in -E mode\n\nAddress failing Fujitsu test suite cases that were broken\nby the patch to defer the handling of !$ lines in -fopenmp\nvs. normal compilation to actual compilation rather than\nprocessing them immediately in -E mode.\n\nTested on the samples in the bug report as well as all of\nthe Fujitsu tests that I could find that use !$ lines.\n\nFixes https://github.com/llvm/llvm-project/issues/136845."
    ]
}