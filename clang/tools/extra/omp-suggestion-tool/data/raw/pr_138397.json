{
    "number": 138397,
    "title": "[flang][OpenMP] Fix fir.convert in omp.atomic.update region",
    "body": "Region generation in omp.atomic.update currently emits a direct `fir.convert`. This crashes when the RHS expression involves complex type but the LHS variable is primitive type (say `f32`), since a `fir.convert` from `complex<f32>` to `f32` is emitted, which is illegal. This PR adds a conditional check to emit an additional `ExtractValueOp` in case RHS expression has a complex type.\r\n\r\nFixes https://github.com/llvm/llvm-project/issues/138396",
    "created_at": "2025-05-03T13:28:21Z",
    "merged_at": "2025-05-07T05:44:48Z",
    "user": "NimishMishra",
    "files": [
        "flang/lib/Lower/OpenMP/OpenMP.cpp",
        "flang/test/Lower/OpenMP/atomic-update.f90"
    ],
    "commits": [
        "[flang][OpenMP] Fix fir.convert in omp.atomic.update region"
    ]
}