{
    "number": 139115,
    "title": "[clang][OpenMP] Pass OpenMP version to getOpenMPDirectiveName",
    "body": "The OpenMP version is stored in language options in ASTContext. If the context is not available, use the fallback version.\r\n\r\nRFC: https://discourse.llvm.org/t/rfc-alternative-spellings-of-openmp-directives/85507",
    "created_at": "2025-05-08T17:41:25Z",
    "merged_at": "2025-05-09T12:41:55Z",
    "user": "kparzysz",
    "files": [
        "clang/include/clang/AST/OpenMPClause.h",
        "clang/lib/AST/DeclPrinter.cpp",
        "clang/lib/AST/OpenMPClause.cpp",
        "clang/lib/AST/StmtPrinter.cpp",
        "clang/lib/Basic/OpenMPKinds.cpp",
        "clang/lib/Parse/ParseOpenMP.cpp",
        "clang/lib/Sema/SemaOpenMP.cpp",
        "clang/lib/Sema/TreeTransform.h",
        "llvm/include/llvm/Frontend/OpenMP/OMP.h",
        "llvm/unittests/Frontend/OpenMPDecompositionTest.cpp",
        "llvm/unittests/Frontend/OpenMPParsingTest.cpp",
        "llvm/utils/TableGen/Basic/DirectiveEmitter.cpp"
    ],
    "commits": [
        "[LLVM][OpenMP] Add \"version\" parameter to getOpenMPDirectiveName\n\nSome OpenMP directives have different spellings in different versions\nof the OpenMP spec. To use the proper spelling for a given spec version\npass \"version\" as a parameter to getOpenMPDirectiveName.\n\nThis parameter won't be used at the moment, and will have a default\nvalue to allow callers not to pass it, for gradual adoption in various\ncomponents.\n\nRFC: https://discourse.llvm.org/t/rfc-alternative-spellings-of-openmp-directives/85507",
        "[clang][OpenMP] Pass OpenMP version to getOpenMPDirectiveName\n\nThe OpenMP version is stored in language options in Sema. For use in\nobjects that do not have access to Sema, add OpenMP version field to\nPrintingPolicy, giving it 8 bits.\n\nRFC: https://discourse.llvm.org/t/rfc-alternative-spellings-of-openmp-directives/85507",
        "format",
        "Store OMP version in OMPClausePrinter, remove it from PrintingPolicy",
        "format",
        "more format",
        "Don't put OpenMP \"Version\" in StmtPrinter"
    ]
}