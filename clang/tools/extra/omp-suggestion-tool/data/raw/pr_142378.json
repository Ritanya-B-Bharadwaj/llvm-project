{
    "number": 142378,
    "title": "[Flang][OpenMP] Deprecate Allocate Directive",
    "body": "As part of OpenMP 5.2, the allocate directive has been deprecated in favour of the allocators construct for Fortran when an ALLOCATE statement follows the OpenMP allocate directive.\r\n\r\nTo enable this in flang, a warning has been added informing the user of this. Tests to ensure this behaviour is continued are also included.\r\n\r\nSee also: #110008",
    "created_at": "2025-06-02T12:42:31Z",
    "merged_at": "2025-06-04T09:36:44Z",
    "user": "Stylie777",
    "files": [
        "flang/lib/Semantics/resolve-directives.cpp",
        "flang/test/Lower/OpenMP/Todo/omp-declarative-allocate.f90",
        "flang/test/Semantics/OpenMP/allocate-align01.f90",
        "flang/test/Semantics/OpenMP/allocate01.f90",
        "flang/test/Semantics/OpenMP/allocate02.f90",
        "flang/test/Semantics/OpenMP/allocate03.f90",
        "flang/test/Semantics/OpenMP/allocate05.f90",
        "flang/test/Semantics/OpenMP/allocate06.f90",
        "flang/test/Semantics/OpenMP/allocate09.f90"
    ],
    "commits": [
        "[Flang][OpenMP] Deprecate Allocate Directive\n\nAs part of OpenMP 5.2, the allocate directive has been deprecated\nin favour of the allocators construct for Fortran. To enable this in\nflang, a warning has been added informing the user of this. Tests to\nensure this behaviour is continued are also included.\n\nSee also: #110008",
        "Address review comments\n\nThe following has been fixed:\n- Updated comments to be `!` instead of `\\\\` in test file",
        "fix failing test",
        "Remove deprecation warning for OpenMPDeclarativeAllocate\n\nAs per the spec for OpenMP 5.2, it is only when the allocate\ndirective is followed by an allocate statement that has been\ndeprecated. This commit removes the deprecation for the declarative\nversion of `allocate`, and updates the appropriate tests to\naccomodate this."
    ]
}