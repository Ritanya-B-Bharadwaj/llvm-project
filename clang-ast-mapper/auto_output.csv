Line,Source Code,AST Nodes,Explanations
1,// Modern C++ features focusing on auto and decltype,,
2,// This is a self-contained example,,
3,,,
4,// Type alias,,
5,using Integer = int;,,
6,,,
7,// Function with auto return type,,
8,auto getValue() {,CompoundStmt; FunctionDecl,
9,    return 42;,ReturnStmt,
10,},,
11,,,
12,// Function with trailing return type,,
13,auto getDouble(int x) -> double {,FunctionDecl; ParmVarDecl,
14,    return x * 2.0;,ReturnStmt,
15,},,
16,,,
17,// Function with decltype,,
18,"template <typename T, typename U>",TemplateTypeParmDecl,
19,"auto add(T a, U b) -> decltype(a + b) {",FunctionDecl; ParmVarDecl; FunctionTemplateDecl,
20,    return a + b;,ReturnStmt,
21,},,
22,,,
23,// Class with auto member function,,
24,class Calculator {,CXXConstructorDecl; CXXRecordDecl,
25,private:,AccessSpecDecl,
26,    int value;,FieldDecl,
27,,,
28,public:,AccessSpecDecl,
29,    Calculator(int initial) : value(initial) {},CXXConstructorDecl,
30,,,
31,    // Method with auto return type,,
32,    auto getValue() const {,CompoundStmt; CXXMethodDecl,
33,        return value;,ReturnStmt,
34,    },,
35,,,
36,    // Method with decltype in return type,,
37,    template <typename T>,TemplateTypeParmDecl,
38,    auto multiply(T factor) -> decltype(value * factor) {,CXXMethodDecl; ParmVarDecl; FunctionTemplateDecl,
39,        return value * factor;,ReturnStmt,
40,    },,
41,};,,
42,,,
43,int main() {,CompoundStmt; FunctionDecl,
44,    // Auto variable declarations,,
45,    auto x = getValue();,DeclStmt,
46,    auto y = 3.14;,DeclStmt,
47,,,
48,    // decltype usage,,
49,    decltype(x) z = x + 10;,DeclStmt,
50,,,
51,    // Auto with initializer lists,,
52,"    auto result = add(x, y);",DeclStmt,
53,,,
54,    // Creating objects with auto,,
55,    auto calc = Calculator(100);,DeclStmt,
56,,,
57,    // Using auto with method returns,,
58,    auto calcResult = calc.getValue();,DeclStmt,
59,,,
60,    // Using decltype with templates,,
61,    auto doubleResult = calc.multiply(2.5);,DeclStmt,
62,,,
63,    return 0;,ReturnStmt,
64,},,
